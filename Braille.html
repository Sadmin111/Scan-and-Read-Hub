<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" href="Braille.png" type="image/png">
  <meta charset="UTF-8" />
  <title>Braille Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #020617;
      overflow: hidden;
      position: relative;
      color: #e5e7eb;
    }

    /* üîµ Falling Braille background canvas */
    #brailleCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
      pointer-events: none;
      opacity: 0.22;
    }

    .container {
      position: relative;
      z-index: 5;
      background: rgba(15, 23, 42, 0.9);
      border-radius: 24px;
      padding: 24px;
      width: 100%;
      max-width: 600px;
      box-shadow:
        0 30px 80px rgba(15, 23, 42, 0.5),
        0 0 0 1px rgba(148, 163, 184, 0.25);
      backdrop-filter: blur(20px);
    }

    .header {
      margin-bottom: 16px;
    }

    .title {
      font-size: 1.4rem;
      font-weight: 600;
      letter-spacing: 0.02em;
    }

    .subtitle {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .field-label {
      font-size: 0.8rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #9ca3af;
      margin-bottom: 6px;
    }

    textarea {
      width: 100%;
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 12px 14px;
      background: rgba(15, 23, 42, 0.95);
      color: #e5e7eb;
      resize: vertical;
      min-height: 80px;
      max-height: 180px;
      font-size: 0.9rem;
      outline: none;
    }

    .row {
      margin-bottom: 14px;
    }

    .output {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 12px 14px;
      min-height: 70px;
      max-height: 180px;
      overflow-y: auto;
      font-family: "SF Mono", Consolas, monospace, "Segoe UI Symbol";
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .placeholder {
      color: #6b7280;
      font-style: italic;
    }

    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: flex-end;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.85rem;
      font-weight: 500;
      cursor: pointer;
      transition: transform 0.12s ease;
    }

    button:active {
      transform: scale(0.97);
    }

    .btn-primary {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #022c22;
    }

    .btn-secondary {
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.5);
    }

    .helper-text {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
  </style>
</head>
<body>

  <!-- üîµ BACKGROUND ANIMATION CANVAS -->
  <canvas id="brailleCanvas"></canvas>

  <div class="container">
    <div class="header">
      <div class="title">Braille Generator</div>
      <div class="subtitle">Type your text, click Generate, then copy the Braille.</div>
    </div>

    <div class="row">
      <div class="field-label">Input Text</div>
      <textarea id="textInput" placeholder="Enter your message here..."></textarea>
      <div class="helper-text">
        Supports A‚ÄìZ and 0‚Äì9. Numbers are prefixed with the Braille number sign ‚†º.
      </div>
    </div>

    <div class="buttons">
      <button class="btn-secondary" onclick="clearAll()">Clear</button>
      <button class="btn-secondary" id="copyBtn" onclick="copyBraille()" disabled>Copy Braille</button>
      <button class="btn-primary" onclick="handleGenerate()">Generate Braille</button>
    </div>

    <!-- OUTPUT HIDDEN INITIALLY -->
    <div id="outputContainer" class="row" style="margin-top:16px; display:none;">
      <div class="field-label">Braille Output</div>
      <div id="brailleOutput" class="output">
        <span id="braillePlaceholder" class="placeholder">
          Click ‚ÄúGenerate Braille‚Äù to see the result...
        </span>
      </div>
    </div>

  </div>

  <script>
    /* ------------------------------------------
       üî† BRAILLE MAPS (Grade 1)
    ------------------------------------------- */
    const brailleLetterMap = {
      'A': '‚†Å', 'B': '‚†É', 'C': '‚†â', 'D': '‚†ô',
      'E': '‚†ë', 'F': '‚†ã', 'G': '‚†õ', 'H': '‚†ì',
      'I': '‚†ä', 'J': '‚†ö', 'K': '‚†Ö', 'L': '‚†á',
      'M': '‚†ç', 'N': '‚†ù', 'O': '‚†ï', 'P': '‚†è',
      'Q': '‚†ü', 'R': '‚†ó', 'S': '‚†é', 'T': '‚†û',
      'U': '‚†•', 'V': '‚†ß', 'W': '‚†∫', 'X': '‚†≠',
      'Y': '‚†Ω', 'Z': '‚†µ'
    };

    // Numbers: number sign ‚†º + A‚ÄìJ patterns
    const brailleDigitMap = {
      '1': '‚†º‚†Å',
      '2': '‚†º‚†É',
      '3': '‚†º‚†â',
      '4': '‚†º‚†ô',
      '5': '‚†º‚†ë',
      '6': '‚†º‚†ã',
      '7': '‚†º‚†õ',
      '8': '‚†º‚†ì',
      '9': '‚†º‚†ä',
      '0': '‚†º‚†ö'
    };

    function convertToBraille(str) {
      return str
        .split('')
        .map(ch => {
          if (ch === ' ') return ' ';
          if (brailleDigitMap[ch]) return brailleDigitMap[ch];

          const upper = ch.toUpperCase();
          if (brailleLetterMap[upper]) return brailleLetterMap[upper];

          // For unsupported characters, just keep them as-is
          return ch;
        })
        .join('');
    }

    /* ------------------------------------------
       ‚ö° HANDLE GENERATE
    ------------------------------------------- */
    function handleGenerate() {
      const input = document.getElementById("textInput").value;
      const outputContainer = document.getElementById("outputContainer");
      const outputDiv = document.getElementById("brailleOutput");
      const placeholder = document.getElementById("braillePlaceholder");
      const copyBtn = document.getElementById("copyBtn");

      if (!input.trim()) {
        alert("Please type some text to generate Braille.");
        return;
      }

      const braille = convertToBraille(input);

      outputContainer.style.display = "block";
      placeholder.style.display = "none";
      outputDiv.textContent = braille;
      copyBtn.disabled = !braille.trim();
    }

    /* ------------------------------------------
       üìã COPY
    ------------------------------------------- */
    function copyBraille() {
      const text = document.getElementById("brailleOutput").textContent;
      if (!text.trim()) return;

      navigator.clipboard.writeText(text);
      alert("Copied!");
    }

    /* ------------------------------------------
       üßπ CLEAR
    ------------------------------------------- */
    function clearAll() {
      document.getElementById("textInput").value = "";
      document.getElementById("outputContainer").style.display = "none";
      document.getElementById("copyBtn").disabled = true;
    }

    /* ------------------------------------------
       üíß BRAILLE-STYLE RAIN BACKGROUND
    ------------------------------------------- */
    const canvas = document.getElementById("brailleCanvas");
    const ctx = canvas.getContext("2d");

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resize();
    window.addEventListener("resize", () => {
      resize();
      initDrops();
    });

    // A set of Braille cells for the animation
    const brailleSymbols = [
      '‚†Å','‚†É','‚†â','‚†ô','‚†ë','‚†ã','‚†õ','‚†ì','‚†ä','‚†ö',
      '‚†Ö','‚†á','‚†ç','‚†ù','‚†ï','‚†è','‚†ü','‚†ó','‚†é','‚†û',
      '‚†•','‚†ß','‚†∫','‚†≠','‚†Ω','‚†µ','‚†º'
    ];

    const drops = [];
    const fontSize = 22;
    let columns = Math.floor(canvas.width / fontSize);

    function initDrops() {
      columns = Math.floor(canvas.width / fontSize);
      drops.length = 0;
      for (let i = 0; i < columns; i++) {
        drops[i] = Math.random() * canvas.height;
      }
    }
    initDrops();

    function draw() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.15)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = "#22c55e";
      ctx.font = fontSize + "px 'Segoe UI Symbol', monospace";

      drops.forEach((y, i) => {
        const text = brailleSymbols[Math.floor(Math.random() * brailleSymbols.length)];
        const x = i * fontSize;
        ctx.fillText(text, x, y);

        if (y > canvas.height && Math.random() > 0.96) drops[i] = 0;
        else drops[i] = y + fontSize;
      });

      requestAnimationFrame(draw);
    }

    draw();
  </script>
</body>
</html>
